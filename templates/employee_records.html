{% import "bootstrap/wtf.html" as wtf %}
{% include 'header.html' %}


<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h1 class="display-4">Find Records</h1>
        <p class="lead">Please enter the employee id, Start Date and End Date to Find the records!</p>
        <a href="{{url_for('home')}}" class="btn btn-primary">Home.</a>
    </div>
</div>


{% if isForm %}

<div class="container">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <p>{{ message }}</p>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <div style="margin:30px 0px;">
        {{ wtf.quick_form(form, novalidate=True, button_map={"submit": "primary"}) }}
    </div>
</div>


{% else %}
<div class="container">
    <div class="table-responsive" style="margin:30px 0px;">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Project Id</th>
                <th scope="col">Project Name</th>
                <th scope="col">Start date</th>
                <th scope="col">End Date</th>
                <th scope="col">Allocation %</th>
            </tr>
            </thead>
            <tbody>
            {% for i in range(n) %}
            <tr>
                <th scope="row">{{i+1}}</th>
                <td>{{records[i].pid}}</td>
                <td>{{records[i].pname}}</td>
                <td>{{records[i].start_date}}</td>
                <td>{{records[i].end_date}}</td>
                <td>{{records[i].Total_Allocations}}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>
</div>


{% endif %}


{% include 'footer.html' %}
